- shell:
    - [./os-check.sh, Checking OS requirement]

- defaults:
    link:
      create: true
      relink: true

- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true
    ~/.zshconfig:
      recursive: true

- create:
    - ~/.config
    - ~/.zshconfig

- link:
    ~/.ideavimrc: ideavimrc
    ~/.vimrc: vimrc
    ~/.zshrc:
      path: zshrc
      force: true
    ~/.tmux.conf:
      path: tmux.conf
      force: true
    ~/.config/karabiner:
      path: karabiner
      force: true
    ~/.config/bat:
      path: bat
      force: true
    ~/.config/scripts:
      path: scripts
      force: true
    ~/.config/nvim/:
      glob: true
      path: nvim/*
    ~/.config/opencode/:
      glob: true
      path: ai/opencode/*
    ~/.config/starship.toml:
      path: starship.toml
      force: true
    ~/.config/wezterm/:
      glob: true
      path: webterm/*
    ~/.zshconfig/plugins:
      glob: true
      force: true
      path: zshplugins/*
    ~/.ripgreprc: ripgreprc

- shell:
    - command: 'git submodule update --init --recursive'
      description: Installing submodules
      stdout: true
    - command: '[ ! -e ~/.zshconfig/antigen ] && git clone https://github.com/zsh-users/antigen.git ~/.zshconfig/antigen || true'
      description: Installing antigen
      stdout: true
